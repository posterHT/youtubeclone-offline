<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script src="https://apis.google.com/js/api.js"></script>

    <script>
        // API'nin yüklenmesini bekleyin
        // API'nin yüklenmesini bekleyin
        // API'nin yüklenmesini bekleyin
        gapi.load('client', start);

        var list_kw = "Komik videolar";
        var maxResults = 10;
        function start() {
            // API istemcisini yükleyin
            gapi.client.init({
                apiKey: 'AIzaSyAE93O-0VosPtGB3TcElOI800d4OXFx7RI', // YouTube Data API v3 için API anahtarınızı buraya girin
                discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'],
            }).then(function () {
                // API başarıyla yüklendi
                // Aranan kelimeyle videoları listelemek için API isteğini yapın
                return gapi.client.youtube.search.list({
                    part: 'snippet',
                    q: list_kw, // Aranacak kelimeyi buraya girin
                    maxResults: maxResults, // Alınacak sonuç sayısı
                });
            }).then(function (response) {
                // Yanıtı işleyin
                VideoListLoad(response);
            }, function (error) {
                // Hata durumunda işleyin
                console.error('API error:', error);
            });
        }
        var pageToken = "";

        function NextPage() {
            gapi.client.youtube.search.list({
                part: 'snippet',
                q: list_kw,
                maxResults: maxResults,
                pageToken: pageToken,
            }).then(function (response) {
                // Yanıtı işleyin
                console.log("----------NEXT PAGE STARTED------------");
                VideoListLoad(response);

            }).catch(function (error) {
                // Hata durumunda işleyin
                console.error('API error:', error);
            });
        }
        function VideoListLoad(response) {
            var videos = response.result.items;
            videos.forEach(function (video) {
                var title = video.snippet.title;
                var description = video.snippet.description;
                var channelTitle = video.snippet.channelTitle;
                var channelId = video.snippet.channelId;

                var thumbnail = video.snippet.thumbnails.default.url;
                var videoId = video.id.videoId;
                if (videoId != null) {
                    // Video bilgilerini almak için ayrı bir API isteği yapın
                    gapi.client.youtube.videos.list({
                        part: 'statistics',
                        id: videoId,
                    }).then(function (response) {
                        // Yanıtı işleyin
                        var videoInfo = response.result.items[0].statistics;
                        var viewCount = videoInfo.viewCount;
                        var likeCount = videoInfo.likeCount;

                        console.log('Title:', channelTitle);
                        /*  console.log('Thumbnail:', thumbnail);
                           console.log('Video ID:', videoId);
                           console.log('View Count:', viewCount);
                           console.log('Like Count:', likeCount);*/
                    });
                }

            });
            console.log("----------NEXT PAGE ENDED------------");
            pageToken = response.result.nextPageToken;

        }


    </script>
</body>

</html>